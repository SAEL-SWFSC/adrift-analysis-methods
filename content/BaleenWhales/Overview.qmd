---
title: Overview
---

# Summary

Baleen whale vocalizations are noted by their long duration, low frequency calls. While we wanted to come up with one approach to detect and classify all baleen whale species in the California Current, existing open source software did not provide the best platform to do so. Here we summarize multiple methods on how we tackled the problem of detecting and classifying baleen whales in the the ADRIFT recordings.

## Data Prep

-   Recordings from ADRIFT, CCES, and PASCAL were originally sampled between 192kHz and 576kHz. In order to examine these recordings for baleen whales they were decimated in [Triton software](https://github.com/MarineBioAcousticsRC/Triton) to 12kHz and 500Hz respectively using channel one of the raw recordings.

-   From those decimated recordings, Triton software was used to create long-term spectral averages (LTSAs) for each Drift at both 12kHz and 500Hz respectively.

    -   LTSAs were reviewed by an experienced analyst as an initial QAQC of our recordings in that frequency range. If it was determined that the recordings were unusable in a specific frequency then that was noted in the Deployment Details.

## Blue Whales

### *Manual Annotation in Triton*

-   Presence of blue whales within the recordings were based off of A, B, and D call types.

-   [Triton software](https://github.com/MarineBioAcousticsRC/Triton) was used for the following:

    -   Long-term spectral averages (LTSAs) were calculated with a 1 Hz, 5 second resolution using 500Hz decimated recordings

    -   A trained analyst scanned the LTSAs one hour at a time to look for A, B and D calls. If a call was discovered within that hour chunk, the analyst would note the start time of each call type and a comment regarding the SNR and quality of the call.

    -   These annotations were saved in a .CSV for each deployment. CSVs were then combined and plots for hourly presence were created.

    Click [here](https://sael-swfsc.github.io/adrift-analysis-methods/content/BaleenWhales/Slides/methodsforloggingbaleenwhales.html#/title-slide) for more detail of these methods.

## Brydes

## Fin 20 Hz ADRIFT

### *Click detector in PAMGuard*

-   [PAMGuard](https://www.pamguard.org/) software was used to automatically detect fin whale 20Hz pulses in the ADRIFT data set.
    -   A click classifier was created to classify 20Hz fin whale pulses as "fin clicks"

        -   PamGuard settings can be found [here](https://github.com/SAEL-SWFSC/adrift-analysis-methods/tree/main/content/BaleenWhales/Pamguard%20Settings)

    -   Recordings from each Drift was run through the click detector

    -   Click information were saved to binary files

### *Validation of events*

-   [PAMpal](https://taikisan21.github.io/PAMpal/) was used to create fin whale events in each database

    -   Events were defined as every wav file

    -   Wav file lengths and duty cycles varied depending on deployment but all information related to deployment details can be found [here](https://docs.google.com/spreadsheets/d/10bxlwfVOe1LFfj69B_YddxcA0V14m7codYwgD2YncFk/edit#gid=395545420).

### *Random Forest Model*

-   A random forest model was created using validated data from 14 drifts, deployed in 3 different locations between June of 2021-July 2023

### *Review of Model Results*

-   We used the model to predict if fin whales were present on an hourly basis

-   The model had one of three results: Accept, Review, Dropped

-   Both Accepted and Review detections were reviewed for accuracy

More detail of these methods can be found [here](http://localhost:7770/content/BaleenWhales/Slides/20HzFinMethods.html#/title-slide)

## Gray

## Humpack

## Minke

-   [PAMGuard](https://www.pamguard.org/) software was used to run a Generalized Power Law (GPL) detector to identify Minke whale boings (see image below)
-   All detections were manually scanned and all boings were annotated using PAMGuard Viewer Mode's Spectrogram Annotation Tool
-   Following manual scanning, an additional 20% of the total data was subsampled to look for false negative boings
-   The annotations were then summarized into hourly presence/absence tables.

![Figure X. Spectrogram of Minke whale boings being detected by GPL detector](images/MinkeGPLDetections.png)

Click [here](Slides/minkeMethods.qmd) for more detailed methods
